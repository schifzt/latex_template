% Description:
%   This is a 1-column style file, assuming to use
%   	\documentclass[10pt, a4paper, uplatex]{jsarticle}
% 	Or
%   	\documentclass[10pt, a4paper, twocolumn, uplatex]{jsarticle}


% subsection/subsubsectionをサンセリフ，太字，左揃えにする
\usepackage{titlesec}
\titleformat*{\section}{\large\bfseries\raggedright}
\titleformat*{\subsection}{\large\bfseries\raggedright}
\titleformat*{\subsubsection}{\bfseries}

% ==================================================================

% 余白レイアウト
\usepackage{geometry}
\usepackage{afterpage}
\newgeometry{
    a4paper,
    includeheadfoot=true,
    headsep=0.0cm,
    headheight=0.5cm,
    footskip=1cm,
    top=0.5cm,
    bottom=0.5cm,
    left=1.0cm,
    right=1.0cm
}

% ==================================================================
\usepackage{fancyhdr}

% hrulefillを太さが設定できるように再定義する
\renewcommand{\hrulefill}[1][0.4pt]{\leavevmode\leaders\hrule height #1 \hfill\kern\z@}

% 1ページ目にだけ適用するスタイルを定義
\fancypagestyle{firstpagestyle}
{
	\fancyhead{}
	\fancyhead[L]{\topLeftBox}
	\fancyhead[R]{\topRightBox}
	\renewcommand{\headrulewidth}{0.0pt}
}
% 2ページ目以降に適用するスタイルを定義
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyfoot[R]{---\space\thepage\space---}
\renewcommand{\headrulewidth}{0.0pt}
% \renewcommand{\footrulewidth}{0.4pt} % line width at foot

% \jtitle, jsubtitle変数を定義
\newcommand{\jtitle}[1]{\def\jtitle{#1}}
\newcommand{\jsubtitle}[1]{\def\jsubtitle{#1}}

% 既存の\maketitleコマンドをカスタム
\let\DEFAULTmaketitle\maketitle
\renewcommand{\maketitle}{
	\title{
		\hspace*{2cm}\hrulefill[2pt]\hspace*{2cm}
		\\
		\jtitle
		\ifx\jsubtitle\empty
		\else
		{
			\\
			\normalsize\jsubtitle
		}
		\fi
		\\
		\hspace*{2cm}\hrulefill[2pt]\hspace*{2cm}
	}

	\date{\vspace{-10mm}}
	\DEFAULTmaketitle
	\thispagestyle{firstpagestyle}
}
